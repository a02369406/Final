<!-- Page Title -->
<div class="page-title" data-aos="fade">
  <div class="heading">
    <div class="container">
      <div class="row d-flex justify-content-center text-center">
        <div class="col-lg-8">
          <h1>Courses</h1>
          <p class="mb-0">
            Explore our diverse range of expert-led training courses designed to
            help you gain valuable skills, enhance your career, and stay ahead
            in your industry. Whether you're looking for professional
            development or personal growth, Mentor has the right course for you.
          </p>
        </div>
      </div>
    </div>
  </div>
  <nav class="breadcrumbs">
    <div class="container">
      <ol>
        <li><a href="/">Home</a></li>
        <li class="current">Courses</li>
      </ol>
    </div>
  </nav>
</div>

<!-- End Page Title -->

<!-- Courses Section -->
<section id="courses" class="courses section">
  <div class="container">
    <div class="row">
      <% courses.forEach((course, index) => { %>
      <div
        class="col-lg-4 col-md-6 d-flex align-items-stretch"
        data-aos="zoom-in"
        data-aos-delay="<%= 100 + (index % 3) * 100 %>"
      >
        <div class="course-item">
          <img
            src="assets/img/<%= course.image %>"
            class="img-fluid"
            alt="<%= course.title %>"
          />
          <div class="course-content">
            <div class="d-flex justify-content-between align-items-center mb-3">
              <p class="category"><%= course.trainer.expertise %></p>
              <p class="price">$<%= course.price %></p>
            </div>

            <h3>
              <a href="/courses/<%= course.slug %>"><%= course.title %></a>
            </h3>
            <p class="description"><%= course.description %></p>
            <div
              class="trainer d-flex justify-content-between align-items-center"
            >
              <div class="trainer-profile d-flex align-items-center">
                <img
                  src="assets/img/team/<%= course.trainer.image %>"
                  class="img-fluid"
                  alt=""
                />
                <a href="" class="trainer-link"><%= course.trainer.name %></a>
              </div>
              <div class="trainer-rank d-flex align-items-center">
                <i class="bi bi-person user-icon"></i>&nbsp;<%=
                course.registrants.length %> &nbsp;&nbsp;
                <i class="bi bi-heart heart-icon"></i>&nbsp;<%= course.likes %>
              </div>
            </div>
            <div class="mt-3 text-center">
              <% if (course.registrants.length >= course.capacity) { %>
              <button class="btn btn-secondary" disabled>Course Full</button>
              <% } else if (course.isRegistered && user) { %>
              <form action="/courses/<%= course.slug %>/unregister" method="post" class="d-inline">
                <button type="submit" class="btn btn-warning">Unregister</button>
              </form>
              <% } else { %>
              <a href="<%= user ? '/courses/' + course.slug + '/register' : '/auth/login' %>" class="btn btn-primary">Register</a>
              <% } %>
              <% if (user && user.roles && user.roles.includes('admin')) { %>
              <div class="mt-2">
                <a href="/admin/courses/<%= course.slug %>/edit" class="btn btn-sm btn-outline-secondary">Edit/Delete</a>
              </div>
              <% } %>
            </div>
          </div>
        </div>
      </div>
      <% }) %>
    </div>
  </div>
</section>
<!-- /Courses Section -->
